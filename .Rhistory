data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x) +
facet_wrap_paginate(~ country, ncol = 4, nrow = 3, page = 3, scales = "free") +
labs(
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
summarise(star_date = min(time),
end_date = max(time))
# First page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap_paginate(~ country, ncol = 4, nrow = 3, page = 1, scales = "free") +
labs(
title = "Phillips Curve",
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
# Second page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap_paginate(~ country, ncol = 4, nrow = 3, page = 2, scales = "free") +
labs(
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
# Third page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap_paginate(~ country, ncol = 4, nrow = 3, page = 3, scales = "free") +
labs(
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
# First page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap_paginate(~ country, ncol = 4, nrow = 3, page = 1, scales = "free") +
labs(
title = "Phillips Curve",
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
# Second page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap_paginate(~ country, ncol = 4, nrow = 3, page = 2, scales = "free") +
labs(
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
# Third page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
filter(country %in% c("Spain", "Sweden", "Switzerland", "United Kingdom")) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap(~ country, scales = "free") +
labs(
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
# First page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap_paginate(~ country, ncol = 4, nrow = 3, page = 1, scales = "free") +
labs(
title = "Phillips Curve",
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
# Second page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap_paginate(~ country, ncol = 4, nrow = 3, page = 2, scales = "free") +
labs(
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
# Third page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
filter(country %in% c("Spain", "Sweden", "Switzerland", "United Kingdom")) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap(~ country, ncol = 4, scales = "free") +
labs(
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
# First page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap_paginate(~ country, ncol = 4, nrow = 3, page = 1, scales = "free") +
labs(
title = "Phillips Curve",
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
# Second page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap_paginate(~ country, ncol = 4, nrow = 3, page = 2, scales = "free") +
labs(
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
# Third page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
filter(country %in% c("Spain", "Sweden", "Switzerland", "United Kingdom")) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap(~ country, scales = "free") +
labs(
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
# Basic setup
here::i_am("Projet-Data-Management-Elisa-Adriel.Rproj")
# Libraries
library(vroom)
library(dplyr)
library(knitr)
library(tidyr)
library(ggplot2)
library(ggforce)
# Loading data
OECD <- vroom("data/DATA OCDE.csv")
WDI <- vroom("data/DATA WDI.csv")
# Manipulating OECD data
OECD <- OECD |>
select(`Reference area`, Measure, TIME_PERIOD, OBS_VALUE) |>
rename(
country = `Reference area`,
measure = Measure,
time = TIME_PERIOD,
value = OBS_VALUE
) |>
pivot_wider(
names_from = measure,
values_from = value
) |>
rename(
nom.eff.ex.rate.oecd = `Nominal effective exchange rate, chain-linked, overall weights`,
labor.prod.oecd = `Labour productivity, total economy`,
unit.labor.cost.oecd = `Unit labour cost in total economy`,
real.eff.ex.rate.oecd = `Real effective exchange rate, constant trade weights`,
terms.trade.oecd = `Terms of trade, goods and services`,
ex.rate.LCU.oecd = `Exchange rate, national currency per USD`,
pot.y.vol.oecd = `Potential output volume`,
emp.tot.oecd = `Total employment (labour force survey basis)`,
wages.oecd = `Wages, total economy`,
compensation.rate.oecd = `Compensation rate, total economy`,
wage.rate.oecd = `Wage rate, total economy`,
pot.y.nom.oecd = `Potential output, nominal value`,
emp.country.spec.oecd = `Employment, country specific`,
pot.emp.oecd = `Potential employment of total economy`,
tot.pop.oecd = `Total population`,
work.age.oecd = `Working-age population, age 15-74`,
gov.emp.oecd = `General government employment`,
emp.tot.nat.account.oecd = `Total employment (national accounts basis)`,
dependent.emp.oecd = `Dependent employment, total economy`,
self.emp.tot.oecd = `Total self-employed`,
unemp.level.oecd = `Unemployment, level`,
labor.force.oecd = `Labour force`,
cpi.oecd = `Consumer price index`,
emp.tot.gr.oecd = `Total employment, growth`,
st.IR.oecd = `Short-term interest rate`,
lt.IR.gov.bonds.oecd = `Long-term interest rate on government bonds`,
ecb.IR.oecd = `Central bank key interest rate`,
labor.force.participation.work.age.oecd = `Labour force participation rate, as a percentage of population aged 15-74`,
core.infl.oecd = `Core inflation`,
hours.per.work.oecd = `Hours worked per worker, total economy`,
headline.infl.oecd = `Headline inflation`,
unemp.rate.oecd = `Unemployment rate`,
ex.rate.usd.oecd = `Exchange rate, USD per national currency`
) |>
pivot_longer(
cols = -c("country","time"),
names_to = "measure",
values_to = "value"
) |>
mutate(
time = as.integer(time),
value = as.numeric(value)
) |>
drop_na()
# Manipulating WDI
WDI <- WDI |>
select(-c(`Time Code`, `Country Code`)) |>
rename(
country = `Country Name`,
time = Time,
cpi.wdi = `Inflation, consumer prices (annual %) [FP.CPI.TOTL.ZG]`,
unemp.youth.tot.wdi = `Unemployment, youth total (% of total labor force ages 15-24) (national estimate) [SL.UEM.1524.NE.ZS]`,
unemp.tot.wdi = `Unemployment, total (% of total labor force) (national estimate) [SL.UEM.TOTL.NE.ZS]`,
unemp.male.wdi = `Unemployment, male (% of male labor force) (national estimate) [SL.UEM.TOTL.MA.NE.ZS]`,
unemp.female.wdi = `Unemployment, female (% of female labor force) (national estimate) [SL.UEM.TOTL.FE.NE.ZS]`,
unemp.inter.male.wdi = `Unemployment with intermediate education, male (% of male labor force with intermediate education) [SL.UEM.INTM.MA.ZS]`,
unemp.inter.female.wdi = `Unemployment with intermediate education, female (% of female labor force with intermediate education) [SL.UEM.INTM.FE.ZS]`,
unemp.inter.tot.wdi = `Unemployment with intermediate education (% of total labor force with intermediate education) [SL.UEM.INTM.ZS]`,
unemp.basic.male.wdi = `Unemployment with basic education, male (% of male labor force with basic education) [SL.UEM.BASC.MA.ZS]`,
unemp.basic.female.wdi = `Unemployment with basic education, female (% of female labor force with basic education) [SL.UEM.BASC.FE.ZS]`,
unemp.basic.tot.wdi = `Unemployment with basic education (% of total labor force with basic education) [SL.UEM.BASC.ZS]`,
unemp.adv.male.wdi = `Unemployment with advanced education, male (% of male labor force with advanced education) [SL.UEM.ADVN.MA.ZS]`,
unemp.adv.female.wdi = `Unemployment with advanced education, female (% of female labor force with advanced education) [SL.UEM.ADVN.FE.ZS]`,
unemp.adv.tot.wdi = `Unemployment with advanced education (% of total labor force with advanced education) [SL.UEM.ADVN.ZS]`,
cover.benef.ALMP.rich.wdi = `Coverage of unemployment benefits and ALMP in richest quintile (% of population) [per_lm_alllm.cov_q5_tot]`,
cover.benef.ALMP.poor.wdi = `Coverage of unemployment benefits and ALMP in poorest quintile (% of population) [per_lm_alllm.cov_q1_tot]`,
cover.benef.ALMP.tot.wdi = `Coverage of unemployment benefits and ALMP (% of population) [per_lm_alllm.cov_pop_tot]`,
adequacy.cover.ALMP.wdi = `Adequacy of unemployment benefits and ALMP (% of total welfare of beneficiary households) [per_lm_alllm.adq_pop_tot]`,
benef.results.poor.wdi = `Benefit incidence of unemployment benefits and ALMP to poorest quintile (% of total U/ALMP benefits) [per_lm_alllm.ben_q1_tot]`,
wage.male.wdi = `Wage and salaried workers, male (% of male employment) (modeled ILO estimate) [SL.EMP.WORK.MA.ZS]`,
wage.female.wdi = `Wage and salaried workers, female (% of female employment) (modeled ILO estimate) [SL.EMP.WORK.FE.ZS]`,
wage.tot.wdi = `Wage and salaried workers, total (% of total employment) (modeled ILO estimate) [SL.EMP.WORK.ZS]`,
deflator.wdi = `Inflation, GDP deflator (annual %) [NY.GDP.DEFL.KD.ZG]`,
cpi.index.wdi = `Consumer price index (2010 = 100) [FP.CPI.TOTL]`
) |>
pivot_longer(
cols = -c(time, country),
names_to = "measure",
values_to = "value"
) |>
mutate(
time = as.integer(time),
value = as.numeric(ifelse(value == "..", NA, value))
) |>
drop_na()
# Merging data
data_long <- bind_rows(
OECD |>
filter(country %in% intersect(OECD$country, WDI$country)),
WDI |>
filter(country %in% intersect(OECD$country, WDI$country))
) |>
drop_na()
# Summarizing data
data_long |>
summarise(
"Countries" = n_distinct(country),
"Variables" = n_distinct(measure),
"Start date" = min(time),
"End date" = max(time)
) |>
kable()
# Transforming the data wide for further use
data_wide <- data_long |>
pivot_wider(
names_from = "measure",
values_from = "value"
)
# First page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap_paginate(~ country, ncol = 4, nrow = 3, page = 1, scales = "free") +
labs(
title = "Phillips Curve",
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
# Second page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap_paginate(~ country, ncol = 4, nrow = 3, page = 2, scales = "free") +
labs(
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
# Third page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
filter(country %in% c("Spain", "Sweden", "Switzerland", "United Kingdom")) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap(~ country, scales = "free") +
labs(
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
View(data_long)
# Basic setup
here::i_am("Projet-Data-Management-Elisa-Adriel.Rproj")
# Libraries
library(vroom)
library(dplyr)
library(knitr)
library(tidyr)
library(ggplot2)
library(ggforce)
# Loading data
OECD <- vroom("data/DATA OCDE.csv")
WDI <- vroom("data/DATA WDI.csv")
# Manipulating OECD data
OECD <- OECD |>
select(`Reference area`, Measure, TIME_PERIOD, OBS_VALUE) |>
rename(
country = `Reference area`,
measure = Measure,
time = TIME_PERIOD,
value = OBS_VALUE
) |>
pivot_wider(
names_from = measure,
values_from = value
) |>
rename(
nom.eff.ex.rate.oecd = `Nominal effective exchange rate, chain-linked, overall weights`,
labor.prod.oecd = `Labour productivity, total economy`,
unit.labor.cost.oecd = `Unit labour cost in total economy`,
real.eff.ex.rate.oecd = `Real effective exchange rate, constant trade weights`,
terms.trade.oecd = `Terms of trade, goods and services`,
ex.rate.LCU.oecd = `Exchange rate, national currency per USD`,
pot.y.vol.oecd = `Potential output volume`,
emp.tot.oecd = `Total employment (labour force survey basis)`,
wages.oecd = `Wages, total economy`,
compensation.rate.oecd = `Compensation rate, total economy`,
wage.rate.oecd = `Wage rate, total economy`,
pot.y.nom.oecd = `Potential output, nominal value`,
emp.country.spec.oecd = `Employment, country specific`,
pot.emp.oecd = `Potential employment of total economy`,
tot.pop.oecd = `Total population`,
work.age.oecd = `Working-age population, age 15-74`,
gov.emp.oecd = `General government employment`,
emp.tot.nat.account.oecd = `Total employment (national accounts basis)`,
dependent.emp.oecd = `Dependent employment, total economy`,
self.emp.tot.oecd = `Total self-employed`,
unemp.level.oecd = `Unemployment, level`,
labor.force.oecd = `Labour force`,
cpi.oecd = `Consumer price index`,
emp.tot.gr.oecd = `Total employment, growth`,
st.IR.oecd = `Short-term interest rate`,
lt.IR.gov.bonds.oecd = `Long-term interest rate on government bonds`,
ecb.IR.oecd = `Central bank key interest rate`,
labor.force.participation.work.age.oecd = `Labour force participation rate, as a percentage of population aged 15-74`,
core.infl.oecd = `Core inflation`,
hours.per.work.oecd = `Hours worked per worker, total economy`,
headline.infl.oecd = `Headline inflation`,
unemp.rate.oecd = `Unemployment rate`,
ex.rate.usd.oecd = `Exchange rate, USD per national currency`
) |>
pivot_longer(
cols = -c("country","time"),
names_to = "measure",
values_to = "value"
) |>
mutate(
time = as.integer(time),
value = as.numeric(value)
) |>
drop_na()
# Manipulating WDI
WDI <- WDI |>
select(-c(`Time Code`, `Country Code`)) |>
rename(
country = `Country Name`,
time = Time,
cpi.wdi = `Inflation, consumer prices (annual %) [FP.CPI.TOTL.ZG]`,
unemp.youth.tot.wdi = `Unemployment, youth total (% of total labor force ages 15-24) (national estimate) [SL.UEM.1524.NE.ZS]`,
unemp.tot.wdi = `Unemployment, total (% of total labor force) (national estimate) [SL.UEM.TOTL.NE.ZS]`,
unemp.male.wdi = `Unemployment, male (% of male labor force) (national estimate) [SL.UEM.TOTL.MA.NE.ZS]`,
unemp.female.wdi = `Unemployment, female (% of female labor force) (national estimate) [SL.UEM.TOTL.FE.NE.ZS]`,
unemp.inter.male.wdi = `Unemployment with intermediate education, male (% of male labor force with intermediate education) [SL.UEM.INTM.MA.ZS]`,
unemp.inter.female.wdi = `Unemployment with intermediate education, female (% of female labor force with intermediate education) [SL.UEM.INTM.FE.ZS]`,
unemp.inter.tot.wdi = `Unemployment with intermediate education (% of total labor force with intermediate education) [SL.UEM.INTM.ZS]`,
unemp.basic.male.wdi = `Unemployment with basic education, male (% of male labor force with basic education) [SL.UEM.BASC.MA.ZS]`,
unemp.basic.female.wdi = `Unemployment with basic education, female (% of female labor force with basic education) [SL.UEM.BASC.FE.ZS]`,
unemp.basic.tot.wdi = `Unemployment with basic education (% of total labor force with basic education) [SL.UEM.BASC.ZS]`,
unemp.adv.male.wdi = `Unemployment with advanced education, male (% of male labor force with advanced education) [SL.UEM.ADVN.MA.ZS]`,
unemp.adv.female.wdi = `Unemployment with advanced education, female (% of female labor force with advanced education) [SL.UEM.ADVN.FE.ZS]`,
unemp.adv.tot.wdi = `Unemployment with advanced education (% of total labor force with advanced education) [SL.UEM.ADVN.ZS]`,
cover.benef.ALMP.rich.wdi = `Coverage of unemployment benefits and ALMP in richest quintile (% of population) [per_lm_alllm.cov_q5_tot]`,
cover.benef.ALMP.poor.wdi = `Coverage of unemployment benefits and ALMP in poorest quintile (% of population) [per_lm_alllm.cov_q1_tot]`,
cover.benef.ALMP.tot.wdi = `Coverage of unemployment benefits and ALMP (% of population) [per_lm_alllm.cov_pop_tot]`,
adequacy.cover.ALMP.wdi = `Adequacy of unemployment benefits and ALMP (% of total welfare of beneficiary households) [per_lm_alllm.adq_pop_tot]`,
benef.results.poor.wdi = `Benefit incidence of unemployment benefits and ALMP to poorest quintile (% of total U/ALMP benefits) [per_lm_alllm.ben_q1_tot]`,
wage.male.wdi = `Wage and salaried workers, male (% of male employment) (modeled ILO estimate) [SL.EMP.WORK.MA.ZS]`,
wage.female.wdi = `Wage and salaried workers, female (% of female employment) (modeled ILO estimate) [SL.EMP.WORK.FE.ZS]`,
wage.tot.wdi = `Wage and salaried workers, total (% of total employment) (modeled ILO estimate) [SL.EMP.WORK.ZS]`,
deflator.wdi = `Inflation, GDP deflator (annual %) [NY.GDP.DEFL.KD.ZG]`,
cpi.index.wdi = `Consumer price index (2010 = 100) [FP.CPI.TOTL]`
) |>
pivot_longer(
cols = -c(time, country),
names_to = "measure",
values_to = "value"
) |>
mutate(
time = as.integer(time),
value = as.numeric(ifelse(value == "..", NA, value))
) |>
drop_na()
# Merging data
data_long <- bind_rows(
OECD |>
filter(country %in% intersect(OECD$country, WDI$country)),
WDI |>
filter(country %in% intersect(OECD$country, WDI$country))
) |>
drop_na()
# Summarizing data
data_long |>
summarise(
"Countries" = n_distinct(country),
"Variables" = n_distinct(measure),
"Start date" = min(time),
"End date" = max(time)
) |>
kable()
# Transforming the data wide for further use
data_wide <- data_long |>
pivot_wider(
names_from = "measure",
values_from = "value"
)
# First page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap_paginate(~ country, ncol = 4, nrow = 3, page = 1, scales = "free") +
labs(
title = "Phillips Curve",
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
# Second page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap_paginate(~ country, ncol = 4, nrow = 3, page = 2, scales = "free") +
labs(
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
# Third page
data_wide |>
select(time, country, cpi.wdi, unemp.tot.wdi) |>
filter(country %in% c("Spain", "Sweden", "Switzerland", "United Kingdom")) |>
ggplot(aes(x = unemp.tot.wdi, y = cpi.wdi)) +
geom_point() +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE) +
facet_wrap(~ country, scales = "free") +
labs(
x = "Unemployment rate (%)",
y = "Inflation rate (%)"
) +
theme_minimal()
View(data_wide)
